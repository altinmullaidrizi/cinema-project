{"remainingRequest":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/babel-loader/lib/index.js!/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/altin/WebstormProjects/Cinema/cinemarine/src/views/admin/components/MovieTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/src/views/admin/components/MovieTable.vue","mtime":1615842592793},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9hbHRpbi9XZWJzdG9ybVByb2plY3RzL0NpbmVtYS9jaW5lbWFyaW5lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBNb3ZpZU1vZGFsIGZyb20gIi4vTW92aWVNb2RhbCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNb3ZpZU1vZGFsOiBNb3ZpZU1vZGFsCiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBtb3ZpZXM6ICJhbGxNb3ZpZXMiCiAgfSkpLAogIG5hbWU6ICJNb3ZpZVRhYmxlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd0NvbmZpcm1hdGlvbjogZmFsc2UsCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogIkZvdG8iLAogICAgICAgIHZhbHVlOiAiaW1hZ2UiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB3aWR0aDogMjAwCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiVGl0dWxsaSIsCiAgICAgICAgdmFsdWU6ICJ0aXRsZSIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJWaXRpIiwKICAgICAgICB2YWx1ZTogInJlbGVhc2VZZWFyIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIkRpcmVjdG9yIiwKICAgICAgICB2YWx1ZTogImRpcmVjdG9yIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIlpoYW5yZXQiLAogICAgICAgIHZhbHVlOiAiZ2VucmVzIgogICAgICB9LCB7CiAgICAgICAgdGV4dDogIlVwY29tbWluZyIsCiAgICAgICAgdmFsdWU6ICJjb21taW5nU29vbiIsCiAgICAgICAgd2lkdGg6IDEwMAogICAgICB9LCB7CiAgICAgICAgdGV4dDogIlZlcHJpbWV0IiwKICAgICAgICB2YWx1ZTogImFjdGlvbiIKICAgICAgfV0sCiAgICAgIHNlbGVjdGVkSXRlbToge30KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93RGVsZXRlTW9kYWw6IGZ1bmN0aW9uIHNob3dEZWxldGVNb2RhbChpdGVtKSB7CiAgICAgIGNvbnNvbGUubG9nKCJjbGlja2VkIik7CiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gaXRlbTsKICAgICAgdGhpcy5zaG93Q29uZmlybWF0aW9uID0gdHJ1ZTsKICAgIH0sCiAgICBnZXRJbWFnZVVybDogZnVuY3Rpb24gZ2V0SW1hZ2VVcmwoaXRlbSkgewogICAgICByZXR1cm4gImh0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9wdWJsaWMvIi5jb25jYXQoaXRlbSk7CiAgICB9LAogICAgY2hhbmdlVmFsdWU6IGZ1bmN0aW9uIGNoYW5nZVZhbHVlKGl0ZW0pIHsKICAgICAgaXRlbS5jb21pbmdTb29uID0gIWl0ZW0uY29taW5nU29vbjsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImNoYW5nZU1vdmllU3RhdHVzIiwgewogICAgICAgIGlkOiBpdGVtLl9pZCwKICAgICAgICB2YWx1ZTogaXRlbS5jb21pbmdTb29uCiAgICAgIH0pOwogICAgfSwKICAgIGVkaXRNb3ZpZTogZnVuY3Rpb24gZWRpdE1vdmllKG1vdmllKSB7CiAgICAgIHRoaXMuJHJlZnMubW92aWVNb2RhbC5lZGl0TW9kYWwobW92aWUpOwogICAgfSwKICAgIGRlbGV0ZU1vdmllOiBmdW5jdGlvbiBkZWxldGVNb3ZpZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJkZWxldGVNb3ZpZSIsIHRoaXMuc2VsZWN0ZWRJdGVtLl9pZCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBfdGhpcy5zaG93Q29uZmlybWF0aW9uID0gZmFsc2U7CiAgICAgICAgX3RoaXMuc2VsZWN0ZWRJdGVtID0ge307CgogICAgICAgIF90aGlzLiR0b2FzdGVkLnNob3coIkZpbG1pIHUgZnNoaSBtZSBzdWtzZXMiLCB7CiAgICAgICAgICBkdXJhdGlvbjogMzAwMCwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWNlbnRlciIKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNvbnNvbGUubG9nKHJlYXNvbik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0TG9hZGluZyIsIHRydWUpOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldEFsbE1vdmllcyIpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIF90aGlzMi4kc3RvcmUuY29tbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["MovieTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <v-data-table :headers=\"headers\" :items=\"movies\" i>\n      <template v-slot:top>\n        <MovieModal ref=\"movieModal\"></MovieModal>\n      </template>\n      <template v-slot:item.image=\"{ item }\">\n        <v-card class=\"mb-4 mt-4 \" elevation=\"5\">\n          <img :src=\"getImageUrl(item.image)\" alt=\"\" height=\"200\" width=\"300\" />\n        </v-card>\n      </template>\n      <template v-slot:item.commingSoon=\"{ item }\">\n        <toggle-button\n          :value=\"item.comingSoon\"\n          @change=\"changeValue(item)\"\n          :labels=\"{ checked: 'Upcomming', unchecked: 'Duke u Shfaqur' }\"\n          :width=\"100\"\n        >\n        </toggle-button>\n      </template>\n      <template v-slot:item.action=\"{ item }\">\n        <a @click=\"editMovie(item)\">\n          <v-icon small class=\"mr-3 ms-icon\">fas fa-edit</v-icon>\n        </a>\n        <a @click=\"showDeleteModal(item)\">\n          <v-icon small class=\"mr-3 ms-icon\">fas fa-trash</v-icon>\n        </a>\n      </template>\n    </v-data-table>\n    <b-modal\n      v-model=\"showConfirmation\"\n      size=\"sm\"\n      :hide-header=\"true\"\n      :hide-footer=\"true\"\n    >\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <div class=\"text-center\">Konfirmo Fshirjen</div>\n        </div>\n      </div>\n      <div class=\"card-body\">\n        <ul>\n          <li>Titulli: {{ selectedItem.title }}</li>\n          <li>Pershkrimi: {{ selectedItem.description }}</li>\n        </ul>\n      </div>\n      <div class=\"card-footer\">\n        <div class=\"d-flex justify-content-center\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-danger\"\n            @click=\"deleteMovie\"\n          >\n            <v-icon>fas fa-trash</v-icon>\n          </button>\n        </div>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport MovieModal from \"./MovieModal\";\n\nexport default {\n  components: { MovieModal },\n  computed: {\n    ...mapGetters({ movies: \"allMovies\" }),\n  },\n  name: \"MovieTable\",\n  data: () => ({\n    showConfirmation: false,\n    dialog: false,\n    headers: [\n      { text: \"Foto\", value: \"image\", sortable: false, width: 200 },\n      { text: \"Titulli\", value: \"title\" },\n      { text: \"Viti\", value: \"releaseYear\" },\n      { text: \"Director\", value: \"director\" },\n      { text: \"Zhanret\", value: \"genres\" },\n      { text: \"Upcomming\", value: \"commingSoon\", width: 100 },\n      { text: \"Veprimet\", value: \"action\" },\n    ],\n    selectedItem: {},\n  }),\n\n  methods: {\n    showDeleteModal(item) {\n      console.log(\"clicked\");\n      this.selectedItem = item;\n      this.showConfirmation = true;\n    },\n    getImageUrl(item) {\n      return `http://localhost:4000/public/${item}`;\n    },\n    changeValue(item) {\n      item.comingSoon = !item.comingSoon;\n      this.$store.dispatch(\"changeMovieStatus\", {\n        id: item._id,\n        value: item.comingSoon,\n      });\n    },\n    editMovie(movie) {\n      this.$refs.movieModal.editModal(movie);\n    },\n    deleteMovie() {\n      this.$store\n        .dispatch(\"deleteMovie\", this.selectedItem._id)\n        .then((value) => {\n          this.showConfirmation = false;\n          this.selectedItem = {};\n          this.$toasted.show(\"Filmi u fshi me sukses\", {\n            duration: 3000,\n            position: \"top-center\",\n          });\n        })\n        .catch((reason) => {\n          console.log(reason);\n        });\n    },\n  },\n\n  created() {\n    this.$store.commit(\"setLoading\", true);\n    this.$store.dispatch(\"getAllMovies\").then((value) => {\n      this.$store.commit(\"setLoading\", false);\n    });\n  },\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/views/admin/components"}]}