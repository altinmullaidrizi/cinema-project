{"remainingRequest":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/babel-loader/lib/index.js!/Users/altin/WebstormProjects/Cinema/cinemarine/src/store/modules/contact.js","dependencies":[{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/src/store/modules/contact.js","mtime":1615504490063},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9hcGknOwoKdmFyIGhlYWRlcnMgPSBmdW5jdGlvbiBoZWFkZXJzKCkgewogIHJldHVybiB7CiAgICAnQXV0aG9yaXphdGlvbic6ICJCZWFyZXIgIi5jb25jYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpCiAgfTsKfTsKLyoqCiAqCiAqIEB0eXBlIHtWdWUuJHN0b3JlfQogKi8KCgpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIG1lc3NhZ2VzOiBbXQogIH0sCiAgZ2V0dGVyczogewogICAgbWVzc2FnZXM6IGZ1bmN0aW9uIG1lc3NhZ2VzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5tZXNzYWdlczsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgbWVzc2FnZXM6IGZ1bmN0aW9uIG1lc3NhZ2VzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLm1lc3NhZ2VzID0gcGF5bG9hZDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGdldE1lc3NhZ2VzOiBmdW5jdGlvbiBnZXRNZXNzYWdlcyhpbmplY3RlZSkgewogICAgICB2YXIgaGVhZGVycyA9IHsKICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJCZWFyZXIgIi5jb25jYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpCiAgICAgIH07CiAgICAgIGluamVjdGVlLmNvbW1pdCgnc2V0TG9hZGluZycsIHRydWUpOwogICAgICBheGlvcy5nZXQoJ2NvbnRhY3QnLCB7CiAgICAgICAgaGVhZGVyczogaGVhZGVycwogICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIGNvbnNvbGUubG9nKHZhbHVlLmRhdGEpOwogICAgICAgIGluamVjdGVlLmNvbW1pdCgnbWVzc2FnZXMnLCB2YWx1ZS5kYXRhKTsKICAgICAgICBpbmplY3RlZS5jb21taXQoJ3NldExvYWRpbmcnLCBmYWxzZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2cocmVhc29uLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlTWVzc2FnZTogZnVuY3Rpb24gZGVsZXRlTWVzc2FnZShpbmplY3RlZSwgcGF5bG9hZCkgewogICAgICBheGlvcy5kZWxldGUoIi9jb250YWN0LyIuY29uY2F0KHBheWxvYWQpLCB7CiAgICAgICAgaGVhZGVyczogaGVhZGVycygpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgY29uc29sZS5sb2codmFsdWUpOwogICAgICAgIGluamVjdGVlLmRpc3BhdGNoKCdnZXRNZXNzYWdlcycpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKHJlYXNvbik7CiAgICAgIH0pOwogICAgfSwKICAgIHBvc3RNZXNzYWdlOiBmdW5jdGlvbiBwb3N0TWVzc2FnZShpbmplY3RlZSwgcGF5bG9hZCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGF4aW9zLnBvc3QoJy9jb250YWN0JywgewogICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLAogICAgICAgICAgZW1haWw6IHBheWxvYWQuZW1haWwsCiAgICAgICAgICBwaG9uZTogcGF5bG9hZC5waG9uZSwKICAgICAgICAgIG1lc3NhZ2U6IHBheWxvYWQubWVzc2FnZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnc3RvcmUnLCB2YWx1ZSk7CiAgICAgICAgICByZXNvbHZlKHZhbHVlKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZWFzb24pOwogICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/altin/WebstormProjects/Cinema/cinemarine/src/store/modules/contact.js"],"names":["axios","defaults","baseURL","headers","localStorage","getItem","state","messages","getters","mutations","payload","actions","getMessages","injectee","commit","get","then","value","console","log","data","catch","reason","response","deleteMessage","delete","dispatch","postMessage","Promise","resolve","reject","post","name","email","phone","message"],"mappings":"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","sourcesContent":["import axios from \"axios\";\naxios.defaults.baseURL = 'http://localhost:4000/api';\n\nconst headers = () => {\n    return {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n    };\n};\n\n/**\n *\n * @type {Vue.$store}\n */\nexport default {\n    state: {\n        messages: [],\n    },\n    getters: {\n\n        messages: state => {\n            return state.messages\n        },\n    },\n    mutations: {\n        messages: (state, payload) => {\n            state.messages = payload\n        },\n    },\n    actions: {\n        getMessages: injectee => {\n            let headers = {\n                'Authorization': `Bearer ${localStorage.getItem('token')}`\n            };\n            injectee.commit('setLoading', true);\n            axios.get('contact', {headers}).then(value => {\n                console.log(value.data);\n                injectee.commit('messages', value.data);\n                injectee.commit('setLoading', false);\n            }).catch(reason => console.log(reason.response));\n        },\n        deleteMessage: (injectee, payload) => {\n            axios.delete(`/contact/${payload}`, {headers: headers()}).then(value => {\n                console.log(value);\n                injectee.dispatch('getMessages');\n            }).catch(reason => console.log(reason));\n        },\n        postMessage: (injectee, payload) => {\n            return new Promise((resolve, reject) => {\n                axios.post('/contact', {\n                    name: payload.name,\n                    email: payload.email,\n                    phone: payload.phone,\n                    message: payload.message\n                }).then(value => {\n                    console.log('store', value);\n                    resolve(value);\n                }).catch(reason => {\n                    console.log(reason);\n                    reject(reason)\n                });\n            });\n        },\n    }\n}\n"]}]}