{"remainingRequest":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/babel-loader/lib/index.js!/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/altin/WebstormProjects/Cinema/cinemarine/src/views/admin/Messages.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/src/views/admin/Messages.vue","mtime":1615842413712},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9hbHRpbi9XZWJzdG9ybVByb2plY3RzL0NpbmVtYS9jaW5lbWFyaW5lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICBtZXNzYWdlczogIm1lc3NhZ2VzIiwKICAgIGlzTG9hZGluZzogImlzTG9hZGluZyIKICB9KSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkSXRlbToge30sCiAgICAgIHNob3dDb25maXJtYXRpb246IGZhbHNlLAogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICJFbXJpIiwKICAgICAgICB2YWx1ZTogIm5hbWUiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiRW1haWwiLAogICAgICAgIHZhbHVlOiAiZW1haWwiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiVGVsZWZvbmkiLAogICAgICAgIHZhbHVlOiAicGhvbmUiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiTWVzYXpoaSIsCiAgICAgICAgdmFsdWU6ICJtZXNzYWdlIiwKICAgICAgICB3aWR0aDogIjQ1JSIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJEYXRhIiwKICAgICAgICB2YWx1ZTogImRhdGUiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiVmVwcmltaSIsCiAgICAgICAgdmFsdWU6ICJhY3Rpb24iCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbmFtZTogIk1lc3NhZ2VzIiwKICBtZXRob2RzOiB7CiAgICBzaG93RGVsZXRlTW9kYWw6IGZ1bmN0aW9uIHNob3dEZWxldGVNb2RhbChpdGVtKSB7CiAgICAgIGNvbnNvbGUubG9nKCJjbGlja2VkIik7CiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gaXRlbTsKICAgICAgdGhpcy5zaG93Q29uZmlybWF0aW9uID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2coaXRlbSk7CiAgICB9LAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldE1lc3NhZ2VzIik7CiAgICB9LAogICAgZGVsZXRlTWVzc2FnZTogZnVuY3Rpb24gZGVsZXRlTWVzc2FnZShpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImRlbGV0ZU1lc3NhZ2UiLCBpZCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBfdGhpcy5zaG93Q29uZmlybWF0aW9uID0gZmFsc2U7CiAgICAgICAgX3RoaXMuc2VsZWN0ZWRJdGVtID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRMb2FkaW5nIiwgdHJ1ZSk7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0TWVzc2FnZXMiKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["Messages.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,QAAA,oBACA,UAAA,CAAA;AAAA,IAAA,QAAA,EAAA,UAAA;AAAA,IAAA,SAAA,EAAA;AAAA,GAAA,CADA,CADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AAEA,MAAA,gBAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,OAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,IAAA,EAAA,UAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,IAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,EAKA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OALA,EAMA;AAAA,QAAA,IAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OANA;AAHA,KAAA;AAYA,GAjBA;AAkBA,EAAA,IAAA,EAAA,UAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,IADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,WAAA,gBAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,KANA;AAOA,IAAA,OAAA,EAAA,mBAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA;AACA,KATA;AAUA,IAAA,aAVA,yBAUA,EAVA,EAUA;AAAA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,EAAA,EAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,gBAAA,GAAA,KAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,OAHA;AAIA;AAfA,GAnBA;AAoCA,EAAA,OApCA,qBAoCA;AAAA;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,IAAA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA,IAAA,CAAA,UAAA,KAAA,EAAA;AACA,MAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,KAAA;AACA,KAFA;AAGA;AAzCA,CAAA","sourcesContent":["<template>\n  <div>\n    <div v-if=\"isLoading\">Loading</div>\n    <v-btn\n      color=\"lightred\"\n      class=\"mt-4 mb-4 center text-white\"\n      @click=\"refresh()\"\n      >Refresh</v-btn\n    >\n    <v-data-table :headers=\"headers\" :items=\"messages\" i>\n      <template v-slot:top> </template>\n\n      <template v-slot:item.action=\"{ item }\">\n        <v-icon small class=\"mr-3\">fas fa-eye</v-icon>\n\n        <a @click=\"showDeleteModal(item)\">\n          <v-icon small class=\"mr-3 ms-icon\">fas fa-trash</v-icon>\n        </a>\n      </template>\n    </v-data-table>\n    <b-modal\n      v-model=\"showConfirmation\"\n      size=\"sm\"\n      :hide-header=\"true\"\n      :hide-footer=\"true\"\n    >\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <div class=\"text-center\">Konfirmo Fshirjen</div>\n        </div>\n      </div>\n      <div class=\"card-body\">\n        <ul>\n          <li>Email: {{ selectedItem.email }}</li>\n          <li>Mesazhi: {{ selectedItem.message }}</li>\n        </ul>\n      </div>\n      <div class=\"card-footer\">\n        <div class=\"d-flex justify-content-center\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-danger\"\n            @click=\"deleteMessage(selectedItem._id)\"\n          >\n            <v-icon>fas fa-trash</v-icon>\n          </button>\n        </div>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  computed: {\n    ...mapGetters({ messages: \"messages\", isLoading: \"isLoading\" }),\n  },\n  data() {\n    return {\n      selectedItem: {},\n      showConfirmation: false,\n      headers: [\n        { text: \"Emri\", value: \"name\" },\n        { text: \"Email\", value: \"email\" },\n        { text: \"Telefoni\", value: \"phone\" },\n        { text: \"Mesazhi\", value: \"message\", width: \"45%\" },\n        { text: \"Data\", value: \"date\" },\n        { text: \"Veprimi\", value: \"action\" },\n      ],\n    };\n  },\n  name: \"Messages\",\n  methods: {\n    showDeleteModal(item) {\n      console.log(\"clicked\");\n      this.selectedItem = item;\n      this.showConfirmation = true;\n      console.log(item);\n    },\n    refresh: function() {\n      this.$store.dispatch(\"getMessages\");\n    },\n    deleteMessage(id) {\n      this.$store.dispatch(\"deleteMessage\", id).then((value) => {\n        this.showConfirmation = false;\n        this.selectedItem = false;\n      });\n    },\n  },\n  created() {\n    this.$store.dispatch(\"setLoading\", true);\n    this.$store.dispatch(\"getMessages\").then((value) => {\n      this.$store.commit(\"setLoading\", false);\n    });\n  },\n};\n</script>\n\n<style scoped>\n.v-icon:hover {\n  color: blue;\n}\n</style>\n"],"sourceRoot":"src/views/admin"}]}