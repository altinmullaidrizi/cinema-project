{"remainingRequest":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/babel-loader/lib/index.js!/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/altin/WebstormProjects/Cinema/cinemarine/src/views/admin/Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/src/views/admin/Users.vue","mtime":1615842413712},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9hbHRpbi9XZWJzdG9ybVByb2plY3RzL0NpbmVtYS9jaW5lbWFyaW5lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXNlcnMiLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIHVzZXJzOiAnZ2V0VXNlcnMnCiAgfSkpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICdVc2VybmFtZScsCiAgICAgICAgdmFsdWU6ICd1c2VybmFtZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdFbWFpbCcsCiAgICAgICAgdmFsdWU6ICdlbWFpbCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdSb2xpJywKICAgICAgICB2YWx1ZTogJ3JvbGUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnRGF0YScsCiAgICAgICAgdmFsdWU6ICdkYXRlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1ZlcHJpbWknLAogICAgICAgIHZhbHVlOiAnYWN0aW9uJwogICAgICB9XSwKICAgICAgc2hvd0RlbGV0ZUNvbmZpcm1hdGlvbjogZmFsc2UsCiAgICAgIHNob3dFZGl0TW9kYWw6IGZhbHNlLAogICAgICBzZWxlY3RlZEl0ZW06IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2hvd0VkaXQ6IGZ1bmN0aW9uIHNob3dFZGl0KGl0ZW0pIHsKICAgICAgdGhpcy5zaG93RWRpdE1vZGFsID0gdHJ1ZTsKICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBpdGVtOwogICAgfSwKICAgIHNob3dEZWxldGVNb2RhbDogZnVuY3Rpb24gc2hvd0RlbGV0ZU1vZGFsKGl0ZW0pIHsKICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBpdGVtOwogICAgICB0aGlzLnNob3dEZWxldGVDb25maXJtYXRpb24gPSB0cnVlOwogICAgfSwKICAgIHNhdmVVc2VyOiBmdW5jdGlvbiBzYXZlVXNlcigpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZEl0ZW0pOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZWRpdFVzZXInLCB7CiAgICAgICAgaWQ6IHRoaXMuc2VsZWN0ZWRJdGVtLl9pZCwKICAgICAgICByb2xlOiB0aGlzLnNlbGVjdGVkSXRlbS5yb2xlCiAgICAgIH0pOyAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ2V0QWxsVXNlcnMnKTsKCiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0ge307CiAgICAgIHRoaXMuc2hvd0VkaXRNb2RhbCA9IGZhbHNlOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7fSk7CiAgICB9LAogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gZGVsZXRlVXNlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdkZWxldGVVc2VyJywgdGhpcy5zZWxlY3RlZEl0ZW0uX2lkKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIF90aGlzLiR0b2FzdGVkLnNob3coJ1VzZXJpIHUgZnNoaSBtZSBzdWtzZXMnLCB7CiAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgIHBvc2l0aW9uOiAidG9wLWNlbnRlciIKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRBbGxVc2VycycpOwoKICAgICAgICBfdGhpcy5zZWxlY3RlZEl0ZW0gPSB7fTsKICAgICAgICBfdGhpcy5zaG93RGVsZXRlQ29uZmlybWF0aW9uID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICBfdGhpcy4kdG9hc3RlZC5lcnJvcignVXNlcmkgbnVrIHUgZnNoaScsIHsKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgcG9zaXRpb246ICJ0b3AtY2VudGVyIgogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5zZWxlY3RlZEl0ZW0gPSB7fTsKICAgICAgICBfdGhpcy5zaG93RGVsZXRlQ29uZmlybWF0aW9uID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRBbGxVc2VycycpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKCd2YWx1ZScsIHZhbHVlKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKHJlYXNvbik7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,QAAA,oBACA,UAAA,CAAA;AAAA,IAAA,KAAA,EAAA;AAAA,GAAA,CADA,CAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,UAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,OAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,EAKA;AAAA,QAAA,IAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OALA,CADA;AAQA,MAAA,sBAAA,EAAA,KARA;AASA,MAAA,aAAA,EAAA,KATA;AAUA,MAAA,YAAA,EAAA;AAVA,KAAA;AAYA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,IADA,EACA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,KAJA;AAKA,IAAA,eALA,2BAKA,IALA,EAKA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,WAAA,sBAAA,GAAA,IAAA;AACA,KARA;AASA,IAAA,QATA,sBASA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,YAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA;AAAA,QAAA,EAAA,EAAA,KAAA,YAAA,CAAA,GAAA;AAAA,QAAA,IAAA,EAAA,KAAA,YAAA,CAAA;AAAA,OAAA,EAFA,CAGA;;AACA,WAAA,YAAA,GAAA,EAAA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,EAAA;AACA,KAhBA;AAiBA,IAAA,UAjBA,wBAiBA;AAAA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,KAAA,YAAA,CAAA,GAAA,EACA,IADA,CACA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,wBAAA,EAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,QAAA,EAAA;AAAA,SAAA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,aAAA;;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,sBAAA,GAAA,KAAA;AACA,OANA,EAOA,KAPA,CAOA,UAAA,MAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,kBAAA,EAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,QAAA,EAAA;AAAA,SAAA;;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,sBAAA,GAAA,KAAA;AACA,OAXA;AAYA;AA9BA,GAnBA;AAmDA,EAAA,OAnDA,qBAmDA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EACA,IADA,CACA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,OAAA,EAAA,KAAA;AACA,KAHA,EAIA,KAJA,CAIA,UAAA,MAAA;AAAA,aAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AAAA,KAJA;AAKA;AAzDA,CAAA","sourcesContent":["<template>\n    <div class=\"container--fluid\">\n        <v-data-table :headers=\"headers\" :items=\"users\" i>\n            <template v-slot:top>\n            </template>\n            <template v-slot:item.action=\"{ item }\">\n                <a @click=\"showEdit(item)\">\n                    <v-icon small class=\"mr-3\">fas fa-edit</v-icon>\n                </a>\n                <a @click=\"showDeleteModal(item)\">\n                    <v-icon small class=\"mr-3 ms-icon\">fas fa-trash</v-icon>\n                </a>\n            </template>\n        </v-data-table>\n        <b-modal v-model=\"showDeleteConfirmation\" size=\"sm\" :hide-header=\"true\" :hide-footer=\"true\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <div class=\"text-center\">Konfirmo Fshirjen</div>\n                </div>\n            </div>\n            <div class=\"card-body\">\n                <ul>\n                    <li>username: {{selectedItem.username}}</li>\n                    <li>email: {{selectedItem.email}}</li>\n                </ul>\n            </div>\n            <div class=\"card-footer\">\n                <div class=\"d-flex justify-content-center\">\n                    <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"deleteUser()\">\n                        <v-icon>fas fa-trash</v-icon>\n                    </button>\n                </div>\n            </div>\n        </b-modal>\n        <b-modal v-model=\"showEditModal\" size=\"md\" :hide-header=\"true\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <div class=\"text-center\">Edit User</div>\n                </div>\n            </div>\n            <div class=\"card-body\">\n                <form>\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <div class=\"form-group\">\n                                <label for=\"username\">Username</label>\n                                <input class=\"form-control\" type=\"text\" id=\"username\" :value=\"selectedItem.username\"\n                                       readonly>\n                            </div>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <div class=\"form-group\">\n                                <label for=\"email\">Email</label>\n                                <input class=\"form-control\" type=\"text\" id=\"email\" :value=\"selectedItem.email\" readonly>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <label for=\"role\">Roli</label>\n                            <select class=\"form-control\" name=\"comingSoon\" id=\"role\" v-model=\"selectedItem.role\"\n                                    required>\n                                <option value=\"0\">User</option>\n                                <option value=\"1\">Admin</option>\n                            </select>\n                        </div>\n\n                    </div>\n                </form>\n            </div>\n            <template v-slot:modal-footer=\"{}\">\n                <b-button size=\"sm\" variant=\"outline-danger\" @click=\"showEditModal = !showEditModal\">\n                    Mbylle\n                </b-button>\n                <b-button size=\"sm\" variant=\"outline-primary\" @click=\"saveUser\">\n                    Ruaj\n                </b-button>\n            </template>\n        </b-modal>\n    </div>\n</template>\n\n<script>\n    import {mapGetters} from 'vuex'\n\n    export default {\n        name: \"Users\",\n        computed: {\n            ...mapGetters({users: 'getUsers'})\n        },\n        data() {\n            return {\n                headers: [\n                    {text: 'Username', value: 'username'},\n                    {text: 'Email', value: 'email'},\n                    {text: 'Roli', value: 'role'},\n                    {text: 'Data', value: 'date'},\n                    {text: 'Veprimi', value: 'action'}\n                ],\n                showDeleteConfirmation: false,\n                showEditModal: false,\n                selectedItem: {},\n            }\n        },\n        methods: {\n            showEdit(item) {\n                this.showEditModal = true;\n                this.selectedItem = item\n            },\n            showDeleteModal(item) {\n                this.selectedItem = item;\n                this.showDeleteConfirmation = true;\n            },\n            saveUser() {\n                console.log(this.selectedItem);\n                this.$store.dispatch('editUser', {id: this.selectedItem._id, role: this.selectedItem.role});\n                // this.$store.dispatch('getAllUsers');\n                this.selectedItem = {};\n                this.showEditModal = false;\n                this.$router.push({});\n            },\n            deleteUser() {\n                this.$store.dispatch('deleteUser', this.selectedItem._id)\n                    .then(value => {\n                        this.$toasted.show('Useri u fshi me sukses', {duration: 2000, position: \"top-center\"});\n                        this.$store.dispatch('getAllUsers');\n                        this.selectedItem = {};\n                        this.showDeleteConfirmation = false\n                    })\n                    .catch(reason => {\n                        this.$toasted.error('Useri nuk u fshi', {duration: 2000, position: \"top-center\"})\n                        this.selectedItem = {};\n                        this.showDeleteConfirmation = false\n                    });\n            },\n        },\n        created() {\n            this.$store.dispatch('getAllUsers')\n                .then(value => {\n                    console.log('value', value)\n                })\n                .catch(reason => console.log(reason));\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views/admin"}]}