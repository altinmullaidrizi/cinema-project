{"remainingRequest":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/altin/WebstormProjects/Cinema/cinemarine/src/views/shared/ConfigModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/src/views/shared/ConfigModal.vue","mtime":1615504490067},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/altin/WebstormProjects/Cinema/cinemarine/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwR2V0dGVyc30gZnJvbSAndnVleCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiQ29uZmlnTW9kYWwiLAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAvLyAuLi5tYXBHZXR0ZXJzKHtuYXZiYXI6ICdnZXROYXZQb3NpdGlvbicsIG5hdmNvbG9yOiAnZ2V0TmF2Q29sb3InfSksCiAgICAgICAgbmF2YmFyOiB7CiAgICAgICAgICAgIGdldCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldE5hdlBvc2l0aW9uCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCh2YWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXROYXZiYXJQb3NpdGlvbicsIHZhbHVlKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBuYXZjb2xvcjogewogICAgICAgICAgICBnZXQoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXROYXZDb2xvcgogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXQodmFsdWUpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0TmF2YmFyQ29sb3InLCB2YWx1ZSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG1vZGFsU2hvdzogZmFsc2UsCiAgICAgICAgICAgIHRhYjogbnVsbCwKICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICBuZXdQYXNzd29yZDogJycsCiAgICAgICAgICAgIGNvbmZpcm1OZXdQYXNzd29yZDogJycKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIG9wZW5Db25maWcoKSB7CiAgICAgICAgICAgIHRoaXMubW9kYWxTaG93ID0gdHJ1ZQogICAgICAgIH0sCiAgICAgICAgc2F2ZUNvbmZpZygpIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldE5hdlBvc2l0aW9uJywgdGhpcy5uYXZiYXIpOwogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0TmF2Q29sb3InLCB0aGlzLm5hdmNvbG9yKTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VwZGF0ZVVzZXJDb25maWcnLCB7bmF2Y29sb3I6IHRoaXMubmF2Y29sb3IsIG5hdmJhclBvc2l0aW9uOiB0aGlzLm5hdmJhcn0pOwogICAgICAgICAgICB0aGlzLm1vZGFsU2hvdyA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgY2hhbmdlUGFzc3dvcmQoKXsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rlc3QnKTsKICAgICAgICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09ICcnIHx8IHRoaXMubmV3UGFzc3dvcmQgPT09ICcnIHx8IHRoaXMuY29uZmlybU5ld1Bhc3N3b3JkID09PSAnJyl7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdGVkLmVycm9yKCdNYnVzaGkgdGUgZ2ppdGhhIGZ1c2hhdCcsIHtwb3NpdGlvbjogInRvcC1jZW50ZXIiLCBkdXJhdGlvbjogMjAwMH0pOwogICAgICAgICAgICB9ZWxzZSBpZih0aGlzLm5ld1Bhc3N3b3JkICE9PSB0aGlzLmNvbmZpcm1OZXdQYXNzd29yZCl7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdGVkLmVycm9yKCdLb25maXJtbyBtaXJlIHBhc3N3b3JkaW4nLCB7cG9zaXRpb246ICJ0b3AtY2VudGVyIiwgZHVyYXRpb246IDIwMDB9KTsKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NoYW5nZVBhc3N3b3JkJywge3Bhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLCBuZXdQYXNzd29yZDogdGhpcy5uZXdQYXNzd29yZH0pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4odmFsdWUgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGFsU2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV3UGFzc3dvcmQgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maXJtTmV3UGFzc3dvcmQgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3RlZC5zaG93KCdQdyB1IG5kcnlzaHVhIG1lIHN1a3NlcycsIHtwb3NpdGlvbjogInRvcC1jZW50ZXIiLCBkdXJhdGlvbjogMjAwMH0pOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKHJlYXNvbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc3dvcmQgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdQYXNzd29yZCA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1OZXdQYXNzd29yZCA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdGVkLmVycm9yKHJlYXNvbi5tc2csIHtkdXJhdGlvbjogMjAwMCwgcG9zaXRpb246ICJ0b3AtY2VudGVyIn0pCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["ConfigModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ConfigModal.vue","sourceRoot":"src/views/shared","sourcesContent":["<template>\n    <div>\n        <a @click=\"openConfig()\">\n            <v-icon small class=\"\">fas fa-cog</v-icon>\n        </a>\n        <b-modal v-model=\"modalShow\" size=\"lg\" :hide-footer=\"true\">\n            <template v-slot:modal-header>\n                <v-tabs v-model=\"tab\">\n                    <v-tab>Config</v-tab>\n                    <v-tab>Security</v-tab>\n                </v-tabs>\n                <button type=\"button\" class=\"close\" aria-label=\"Close\" @click=\"modalShow = !modalShow\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </template>\n            <v-tabs-items v-model=\"tab\">\n                <v-tab-item>\n                    <div class=\"container\">\n                        <div class=\"row\">\n                            <div class=\"col-md-6\">\n                                <div class=\"form-group\">\n                                    <label for=\"nav-config\">Navbar Config</label>\n                                    <select class=\"form-control\" id=\"nav-config\" v-model=\"navbar\">\n                                        <option value=\"sticky\">sticky</option>\n                                        <option value=\"fixed\">fixed</option>\n                                    </select>\n                                </div>\n                            </div>\n                            <div class=\"col-md-6\">\n                                <label for=\"nav-color\">Navbar Color</label>\n                                <select class=\"form-control\" id=\"nav-color\" v-model=\"navcolor\">\n                                    <option value=\"white\">white</option>\n                                    <option value=\"yellow\">yellow</option>\n                                    <option value=\"red\">red</option>\n                                    <option value=\"primary\">primary</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row justify-content-md-end mr-3\">\n                        <b-button size=\"sm\" variant=\"outline-danger\" @click=\"modalShow = !modalShow\">\n                            Mbylle\n                        </b-button>\n                        <b-button size=\"sm\" variant=\"outline-primary\" @click=\"saveConfig()\">\n                            Ruaj\n                        </b-button>\n                    </div>\n                </v-tab-item>\n                <v-tab-item>\n                    <div class=\"container\">\n                        <div class=\"col-md-6 offset-3\">\n                            <div class=\"row d-flex justify-content-center mb-3\">\n                                <h6>Ndrysho Pw</h6>\n                            </div>\n                            <form>\n                                <div class=\"form-group\">\n                                    <label for=\"password\">Current Password</label>\n                                    <input class=\"form-control\" type=\"password\" id=\"password\" v-model=\"password\"\n                                           required>\n                                </div>\n                                <div class=\"form-group\">\n                                    <label for=\"newPassword\">New Password</label>\n                                    <input type=\"password\" id=\"newPassword\" class=\"form-control\" v-model=\"newPassword\"\n                                           required>\n                                </div>\n                                <div class=\"form-group\">\n                                    <label for=\"confirmNewPassword\">New Password</label>\n                                    <input type=\"password\" id=\"confirmNewPassword\" class=\"form-control\"\n                                           v-model=\"confirmNewPassword\" required>\n                                </div>\n                            </form>\n                            <div class=\"row justify-content-md-end mr-3\">\n                                <b-button size=\"sm\" variant=\"outline-danger\" @click=\"modalShow = !modalShow\">\n                                    Mbylle\n                                </b-button>\n                                <b-button size=\"sm\" variant=\"outline-primary\" @click=\"changePassword()\">\n                                    Ruaj\n                                </b-button>\n                            </div>\n                        </div>\n                    </div>\n                </v-tab-item>\n            </v-tabs-items>\n        </b-modal>\n    </div>\n</template>\n\n<script>\n    import {mapGetters} from 'vuex';\n\n    export default {\n        name: \"ConfigModal\",\n        computed: {\n            // ...mapGetters({navbar: 'getNavPosition', navcolor: 'getNavColor'}),\n            navbar: {\n                get() {\n                    return this.$store.getters.getNavPosition\n                },\n                set(value) {\n                    this.$store.commit('setNavbarPosition', value)\n                }\n            },\n            navcolor: {\n                get() {\n                    return this.$store.getters.getNavColor\n                },\n                set(value) {\n                    this.$store.commit('setNavbarColor', value)\n                }\n            }\n        },\n        data() {\n            return {\n                modalShow: false,\n                tab: null,\n                password: '',\n                newPassword: '',\n                confirmNewPassword: ''\n            }\n        },\n        methods: {\n            openConfig() {\n                this.modalShow = true\n            },\n            saveConfig() {\n                this.$store.dispatch('setNavPosition', this.navbar);\n                this.$store.dispatch('setNavColor', this.navcolor);\n                this.$store.dispatch('updateUserConfig', {navcolor: this.navcolor, navbarPosition: this.navbar});\n                this.modalShow = false;\n            },\n            changePassword(){\n                console.log('test');\n                if (this.password === '' || this.newPassword === '' || this.confirmNewPassword === ''){\n                    this.$toasted.error('Mbushi te gjitha fushat', {position: \"top-center\", duration: 2000});\n                }else if(this.newPassword !== this.confirmNewPassword){\n                    this.$toasted.error('Konfirmo mire passwordin', {position: \"top-center\", duration: 2000});\n                }else {\n                    this.$store.dispatch('changePassword', {password: this.password, newPassword: this.newPassword})\n                        .then(value => {\n                            this.modalShow = false;\n                            this.password = '';\n                            this.newPassword = '';\n                            this.confirmNewPassword = '';\n                            this.$toasted.show('Pw u ndryshua me sukses', {position: \"top-center\", duration: 2000});\n                        })\n                        .catch(reason => {\n                            this.password = '';\n                            this.newPassword = '';\n                            this.confirmNewPassword = '';\n                            this.$toasted.error(reason.msg, {duration: 2000, position: \"top-center\"})\n                        })\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}